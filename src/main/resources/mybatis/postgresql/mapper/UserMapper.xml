<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- FMK_IOT_USER 테이블 MAPPER -->
<mapper namespace="kr.go.kids.domain.test.mapper.UserMapper">

    <!-- 목록조회 -->
    <sql id="commonList">
        SELECT
            a.user_id
             , a.user_login_id
             , a.user_name
             , a.user_email
             , a.del_yn
             , a.in_admin_id
             , TO_CHAR(a.in_datetime, 'YYYY-MM-DD HH24:MI:SS') AS in_datetime
             , a.up_admin_id
             , TO_CHAR(a.up_datetime, 'YYYY-MM-DD HH24:MI:SS') AS up_datetime
        FROM drugsafe_user a
        WHERE 1=1
          AND a.del_yn = 'N'
        ORDER BY a.user_id DESC
    </sql>

    <!-- 기본 목록 조회 -->
    <select id="list" resultType="UserDataResVO">
        <include refid="commonList"></include>
    </select>

</mapper>
